<Window x:Class="ACNginxConsole.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:colorPicker="clr-namespace:ColorPicker;assembly=ColorPicker"
        xmlns:local="clr-namespace:ACNginxConsole"
        mc:Ignorable="d"
        Title="AC Live Console" Height="776.5" Width="920.848" Closed="Window_Closed" SizeChanged="Window_SizeChanged" Loaded="Window_Loaded" MinHeight="30">

    <Window.Resources>
        <colorPicker:ColorToStringConverter x:Key="ColorToStringConverter"/>
        <Storyboard x:Key="expandRightCol">
            <local:GridLengthAnimation Storyboard.TargetName="RightCol" Storyboard.TargetProperty="Width" Duration="0:0:0.5" Completed="GridLengthAnimation_Completed"/>
        </Storyboard>
        <Storyboard x:Key="SliderAnimation">
            <DoubleAnimation Storyboard.TargetName="sliderEditor" Storyboard.TargetProperty="Value" Completed="DoubleAnimation_Completed"/>
        </Storyboard>
        <Storyboard x:Key="SoloAnimation">
            <local:GridLengthAnimation x:Name="ColAnim" Storyboard.TargetProperty="Width" Duration="0:0:1"/>
            <local:GridLengthAnimation x:Name="RowAnim" Storyboard.TargetProperty="Height" Duration="0:0:1"/>
            <local:GridLengthAnimation x:Name="ColAnim2" Storyboard.TargetProperty="Width" Duration="0:0:1"/>
            <local:GridLengthAnimation x:Name="RowAnim2" Storyboard.TargetProperty="Height" Duration="0:0:1"/>
        </Storyboard>
        <DrawingBrush x:Key="CheckersBrush" 
                  Viewport="0,0,11,11" ViewportUnits="Absolute"
                  TileMode="Tile">
            <DrawingBrush.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Geometry="M0,0 L2,0 2,2, 0,2Z" Brush="White"/>
                    <GeometryDrawing Geometry="M0,1 L2,1 2,2 1,2 1,0 0,0Z" Brush="LightGray"/>
                </DrawingGroup>
            </DrawingBrush.Drawing>
        </DrawingBrush>
        <SolidColorBrush x:Key="SliderThumb.Static.Foreground" Color="#FFE5E5E5"/>
        <SolidColorBrush x:Key="SliderThumb.MouseOver.Background" Color="#FFDCECFC"/>
        <SolidColorBrush x:Key="SliderThumb.MouseOver.Border" Color="#FF7Eb4EA"/>
        <SolidColorBrush x:Key="SliderThumb.Pressed.Background" Color="#FFDAECFC"/>
        <SolidColorBrush x:Key="SliderThumb.Pressed.Border" Color="#FF569DE5"/>
        <SolidColorBrush x:Key="SliderThumb.Disabled.Background" Color="#FFF0F0F0"/>
        <SolidColorBrush x:Key="SliderThumb.Disabled.Border" Color="#FFD9D9D9"/>
        <SolidColorBrush x:Key="SliderThumb.Static.Background" Color="#FFF0F0F0"/>
        <SolidColorBrush x:Key="SliderThumb.Static.Border" Color="#FFACACAC"/>
        <ControlTemplate x:Key="SliderThumbHorizontalTop" TargetType="{x:Type Thumb}">
            <Grid HorizontalAlignment="Center" UseLayoutRounding="True" VerticalAlignment="Center">
                <Path x:Name="grip" Data="M 0,6 C0,6 5.5,0 5.5,0 5.5,0 11,6 11,6 11,6 11,18 11,18 11,18 0,18 0,18 0,18 0,6 0,6 z" Fill="{StaticResource SliderThumb.Static.Background}" Stretch="Fill" SnapsToDevicePixels="True" Stroke="{StaticResource SliderThumb.Static.Border}" StrokeThickness="1" UseLayoutRounding="True" VerticalAlignment="Center"/>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Border}"/>
                </Trigger>
                <Trigger Property="IsDragging" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Border}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="false">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Border}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="SliderThumbHorizontalBottom" TargetType="{x:Type Thumb}">
            <Grid HorizontalAlignment="Center" UseLayoutRounding="True" VerticalAlignment="Center">
                <Path x:Name="grip" Data="M 0,12 C0,12 5.5,18 5.5,18 5.5,18 11,12 11,12 11,12 11,0 11,0 11,0 0,0 0,0 0,0 0,12 0,12 z" Fill="{StaticResource SliderThumb.Static.Background}" Stretch="Fill" SnapsToDevicePixels="True" Stroke="{StaticResource SliderThumb.Static.Border}" StrokeThickness="1" UseLayoutRounding="True" VerticalAlignment="Center"/>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Border}"/>
                </Trigger>
                <Trigger Property="IsDragging" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Border}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="false">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Border}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <SolidColorBrush x:Key="SliderThumb.Track.Border" Color="#FFD6D6D6"/>
        <SolidColorBrush x:Key="SliderThumb.Track.Background" Color="#FFE7EAEA"/>
        <Style x:Key="RepeatButtonTransparent" TargetType="{x:Type RepeatButton}">
            <Setter Property="OverridesDefaultStyle" Value="true"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Focusable" Value="false"/>
            <Setter Property="IsTabStop" Value="false"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Rectangle Fill="{TemplateBinding Background}" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ControlTemplate x:Key="SliderThumbHorizontalDefault" TargetType="{x:Type Thumb}">
            <Grid HorizontalAlignment="Center" UseLayoutRounding="True" VerticalAlignment="Center">
                <Path x:Name="grip" Fill="{StaticResource SliderThumb.Static.Background}" Stretch="Fill" SnapsToDevicePixels="True" Stroke="{StaticResource SliderThumb.Static.Border}" StrokeThickness="1" UseLayoutRounding="True" VerticalAlignment="Center">
                    <Path.Data>
                        <EllipseGeometry Center="10,10" RadiusX="10" RadiusY="10"></EllipseGeometry>
                    </Path.Data>
                </Path>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Border}"/>
                </Trigger>
                <Trigger Property="IsDragging" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Border}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="false">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Border}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="SliderHorizontal" TargetType="{x:Type Slider}">
            <Border x:Name="border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <TickBar x:Name="TopTick" Fill="{TemplateBinding Foreground}" Height="4" Margin="0,0,0,2" Placement="Top" Grid.Row="0" Visibility="Collapsed"/>
                    <TickBar x:Name="BottomTick" Fill="{TemplateBinding Foreground}" Height="4" Margin="0,2,0,0" Placement="Bottom" Grid.Row="2" Visibility="Collapsed"/>
                    <Border x:Name="TrackBackground" BorderBrush="{StaticResource SliderThumb.Track.Border}" BorderThickness="1" Background="{StaticResource SliderThumb.Track.Background}" Height="4.0" Margin="5,0" Grid.Row="1" VerticalAlignment="center">
                        <Canvas Margin="-6,-1">
                            <Rectangle x:Name="PART_SelectionRange" Fill="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" Height="4.0" Visibility="Hidden"/>
                        </Canvas>
                    </Border>
                    <Track x:Name="PART_Track" Grid.Row="1">
                        <Track.DecreaseRepeatButton>
                            <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Style="{StaticResource RepeatButtonTransparent}"/>
                        </Track.DecreaseRepeatButton>
                        <Track.IncreaseRepeatButton>
                            <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource RepeatButtonTransparent}"/>
                        </Track.IncreaseRepeatButton>
                        <Track.Thumb>
                            <Thumb x:Name="Thumb" Focusable="False" Height="18" OverridesDefaultStyle="True" Template="{StaticResource SliderThumbHorizontalDefault}" VerticalAlignment="Center" Width="18"/>
                        </Track.Thumb>
                    </Track>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="TickPlacement" Value="TopLeft">
                    <Setter Property="Visibility" TargetName="TopTick" Value="Visible"/>
                    <Setter Property="Template" TargetName="Thumb" Value="{StaticResource SliderThumbHorizontalTop}"/>
                    <Setter Property="Margin" TargetName="TrackBackground" Value="5,2,5,0"/>
                </Trigger>
                <Trigger Property="TickPlacement" Value="BottomRight">
                    <Setter Property="Visibility" TargetName="BottomTick" Value="Visible"/>
                    <Setter Property="Template" TargetName="Thumb" Value="{StaticResource SliderThumbHorizontalBottom}"/>
                    <Setter Property="Margin" TargetName="TrackBackground" Value="5,0,5,2"/>
                </Trigger>
                <Trigger Property="TickPlacement" Value="Both">
                    <Setter Property="Visibility" TargetName="TopTick" Value="Visible"/>
                    <Setter Property="Visibility" TargetName="BottomTick" Value="Visible"/>
                </Trigger>
                <Trigger Property="IsSelectionRangeEnabled" Value="true">
                    <Setter Property="Visibility" TargetName="PART_SelectionRange" Value="Visible"/>
                </Trigger>
                <Trigger Property="IsKeyboardFocused" Value="true">
                    <Setter Property="Foreground" TargetName="Thumb" Value="Blue"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="SliderThumbVerticalLeft" TargetType="{x:Type Thumb}">
            <Grid HorizontalAlignment="Center" UseLayoutRounding="True" VerticalAlignment="Center">
                <Path x:Name="grip" Data="M 6,11 C6,11 0,5.5 0,5.5 0,5.5 6,0 6,0 6,0 18,0 18,0 18,0 18,11 18,11 18,11 6,11 6,11 z" Fill="{StaticResource SliderThumb.Static.Background}" Stretch="Fill" Stroke="{StaticResource SliderThumb.Static.Border}"/>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Border}"/>
                </Trigger>
                <Trigger Property="IsDragging" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Border}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="false">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Border}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="SliderThumbVerticalRight" TargetType="{x:Type Thumb}">
            <Grid HorizontalAlignment="Center" UseLayoutRounding="True" VerticalAlignment="Center">
                <Path x:Name="grip" Data="M 12,11 C12,11 18,5.5 18,5.5 18,5.5 12,0 12,0 12,0 0,0 0,0 0,0 0,11 0,11 0,11 12,11 12,11 z" Fill="{StaticResource SliderThumb.Static.Background}" Stretch="Fill" Stroke="{StaticResource SliderThumb.Static.Border}"/>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Border}"/>
                </Trigger>
                <Trigger Property="IsDragging" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Border}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="false">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Border}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="SliderThumbVerticalDefault" TargetType="{x:Type Thumb}">
            <Grid HorizontalAlignment="Center" UseLayoutRounding="True" VerticalAlignment="Center">
                <Path x:Name="grip" Fill="{StaticResource SliderThumb.Static.Background}" Stretch="Fill" Stroke="{StaticResource SliderThumb.Static.Border}">

                </Path>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.MouseOver.Border}"/>
                </Trigger>
                <Trigger Property="IsDragging" Value="true">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Pressed.Border}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="false">
                    <Setter Property="Fill" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Background}"/>
                    <Setter Property="Stroke" TargetName="grip" Value="{StaticResource SliderThumb.Disabled.Border}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="SliderVertical" TargetType="{x:Type Slider}">
            <Border x:Name="border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition MinWidth="{TemplateBinding MinWidth}" Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TickBar x:Name="TopTick" Grid.Column="0" Fill="{TemplateBinding Foreground}" Margin="0,0,2,0" Placement="Left" Visibility="Collapsed" Width="4"/>
                    <TickBar x:Name="BottomTick" Grid.Column="2" Fill="{TemplateBinding Foreground}" Margin="2,0,0,0" Placement="Right" Visibility="Collapsed" Width="4"/>
                    <Border x:Name="TrackBackground" BorderBrush="{StaticResource SliderThumb.Track.Border}" BorderThickness="1" Background="{StaticResource SliderThumb.Track.Background}" Grid.Column="1" HorizontalAlignment="center" Margin="0,5" Width="4.0">
                        <Canvas Margin="-1,-6">
                            <Rectangle x:Name="PART_SelectionRange" Fill="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" Visibility="Hidden" Width="4.0"/>
                        </Canvas>
                    </Border>
                    <Track x:Name="PART_Track" Grid.Column="1">
                        <Track.DecreaseRepeatButton>
                            <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Style="{StaticResource RepeatButtonTransparent}"/>
                        </Track.DecreaseRepeatButton>
                        <Track.IncreaseRepeatButton>
                            <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource RepeatButtonTransparent}"/>
                        </Track.IncreaseRepeatButton>
                        <Track.Thumb>
                            <Thumb x:Name="Thumb" Focusable="False" Height="11" OverridesDefaultStyle="True" Template="{StaticResource SliderThumbVerticalDefault}" VerticalAlignment="Top" Width="18"/>
                        </Track.Thumb>
                    </Track>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="TickPlacement" Value="TopLeft">
                    <Setter Property="Visibility" TargetName="TopTick" Value="Visible"/>
                    <Setter Property="Template" TargetName="Thumb" Value="{StaticResource SliderThumbVerticalLeft}"/>
                    <Setter Property="Margin" TargetName="TrackBackground" Value="2,5,0,5"/>
                </Trigger>
                <Trigger Property="TickPlacement" Value="BottomRight">
                    <Setter Property="Visibility" TargetName="BottomTick" Value="Visible"/>
                    <Setter Property="Template" TargetName="Thumb" Value="{StaticResource SliderThumbVerticalRight}"/>
                    <Setter Property="Margin" TargetName="TrackBackground" Value="0,5,2,5"/>
                </Trigger>
                <Trigger Property="TickPlacement" Value="Both">
                    <Setter Property="Visibility" TargetName="TopTick" Value="Visible"/>
                    <Setter Property="Visibility" TargetName="BottomTick" Value="Visible"/>
                </Trigger>
                <Trigger Property="IsSelectionRangeEnabled" Value="true">
                    <Setter Property="Visibility" TargetName="PART_SelectionRange" Value="Visible"/>
                </Trigger>
                <Trigger Property="IsKeyboardFocused" Value="true">
                    <Setter Property="Foreground" TargetName="Thumb" Value="Blue"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <Style x:Key="SliderStyleRound" TargetType="{x:Type Slider}">
            <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource SliderThumb.Static.Foreground}"/>
            <Setter Property="Template" Value="{StaticResource SliderHorizontal}"/>
            <Style.Triggers>
                <Trigger Property="Orientation" Value="Vertical">
                    <Setter Property="Template" Value="{StaticResource SliderVertical}"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="29.5"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <StatusBar x:Name="StatusBarTop" Grid.Row="0" VerticalAlignment="Top" Grid.ColumnSpan="2">
            <Label x:Name="label" Content="测试" Height="23.748" Width="143.5"/>
            <Label x:Name="label1" Content="推流" Height="23.748" Width="296"/>
            <Label x:Name="labelMonitor" Content="监视" Width="143.5"/>
        </StatusBar>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition x:Name="RightCol" Width="300"/>
            </Grid.ColumnDefinitions>

            <TabControl Grid.Column="0" x:Name="tabControl" SelectionChanged="TabControl_SelectionChanged">
                <TabItem Header="主页" Width="70">
                    <Grid Background="Black">
                        <Canvas Margin="146.75,68.25,120.25,64.25" VerticalAlignment="Center" HorizontalAlignment="Center" Width="500" Height="403">
                            <Label x:Name="label8" Content="启动密码" Height="27.75" Canvas.Left="44" Canvas.Top="346.125" Width="62.25" Foreground="White"/>
                            <PasswordBox x:Name="passwordBox" Height="27.75" Canvas.Left="111.25" Canvas.Top="346.125" Width="284" FontSize="16" PasswordChanged="PasswordBox_PasswordChanged" KeyDown="PasswordBox_KeyDown" VerticalContentAlignment="Center"/>
                            <Image x:Name="image1" Height="272.25" Canvas.Left="56" Canvas.Top="29.5" Width="393.375"/>
                            <Button x:Name="button4" Content="→" Height="27.75" Canvas.Left="400.031" Canvas.Top="346.125" Width="48.938" Click="Button4_Click_1"/>
                            <Image x:Name="ACLiveConsoleLogo_png" Height="350" Canvas.Left="81.25" Source="ACLiveConsoleLogo.png" Stretch="Fill" Width="350"/>
                            <Button x:Name="buttonSoftHelp" Content="软件入门 →" HorizontalAlignment="Left" Height="40" VerticalAlignment="Top" Width="135" Canvas.Left="111" Canvas.Top="339" Background="#FF242121" Foreground="White" BorderBrush="#FFE6D0D0" FontWeight="Bold" FontSize="16" Click="ButtonSoftHelp_Click"/>
                            <Button x:Name="buttonDanmakuEntry" Content="弹幕电脑 →" HorizontalAlignment="Left" Height="40" VerticalAlignment="Top" Width="135" Canvas.Left="265" Canvas.Top="339" Background="#FF242121" Foreground="White" BorderBrush="#FFE6D0D0" FontWeight="Bold" FontSize="16" Click="ButtonDanmakuEntry_Click"/>
                        </Canvas>
                        <Label x:Name="labelVer" Content="版本:" Margin="10,0,0,0" Foreground="White" HorizontalAlignment="Left" Width="367.5" Height="48" VerticalAlignment="Bottom" FontSize="9"/>
                    </Grid>
                </TabItem>
                <TabItem x:Name="tabItemConfig" Header="配置" Width="70">
                    <Grid Background="#FFE5E5E5">
                        <TextBox x:Name="textBoxAdd" Margin="206,53,306.5,0" Height="20" VerticalAlignment="Top" TextChanged="TextBoxAdd_TextChanged_1"/>
                        <Label x:Name="labelAdd" Content="推流地址" HorizontalAlignment="Left" Height="24.25" Margin="145.25,49,0,0" VerticalAlignment="Top" Width="60"/>
                        <TextBox x:Name="textBoxCode" Height="20" Margin="206,88,306.5,0" VerticalAlignment="Top" TextChanged="TextBoxCode_TextChanged_1"/>
                        <Label x:Name="labelCode" Content="推流密钥" HorizontalAlignment="Left" Height="35" Margin="145,83,0,0" VerticalAlignment="Top"/>
                        <TextBox x:Name="textBoxMan" Height="48" Margin="206,120,306.5,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
                        <Label x:Name="labelMan" Content="自定义" HorizontalAlignment="Left" Height="27" Margin="145,117,0,0" VerticalAlignment="Top" Width="60"/>
                        <RadioButton x:Name="radioButtonB" Content="B站" HorizontalAlignment="Left" Height="20" Margin="14,55,0,0" VerticalAlignment="Top" Width="104" Checked="RadioButton_Checked"/>
                        <RadioButton x:Name="radioButtonWeibo" Content="微博" HorizontalAlignment="Left" Height="20" Margin="14,88,0,0" VerticalAlignment="Top" Width="105" Checked="RadioButtonWeibo_Checked_1"/>
                        <RadioButton x:Name="radioButtonMan" Content="自定义" HorizontalAlignment="Left" Height="16" Margin="14,152,0,0" VerticalAlignment="Top" Width="105" Checked="RadioButtonMan_Checked_1"/>
                        <RadioButton x:Name="radioButtonLAN" Content="局域网" HorizontalAlignment="Left" Height="19" Margin="14,120,0,0" VerticalAlignment="Top" Width="106" Checked="radioButtonLAN_Checked"/>
                        <Label x:Name="label5" Content="推流平台" HorizontalAlignment="Left" Height="27" Margin="14.5,13.5,0,0" VerticalAlignment="Top" Width="118" Background="#FFCC261F" Foreground="White"/>
                        <Label x:Name="label6" Content="推流地址" Height="26" Margin="145,14,306.5,0" VerticalAlignment="Top" Background="#FFF2EC29" Foreground="Black"/>
                        <Label x:Name="labelWhite" Content="推流写入" Height="26" Margin="0,14,9.5,0" VerticalAlignment="Top" Background="White" HorizontalAlignment="Right" Width="286"/>
                        <Button x:Name="buttonPlus" Content="+1流" Height="48" Margin="0,120,10.5,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="279" Click="ButtonPlus_Click"/>
                        <Label x:Name="label3" Content="准备写入" Height="24" Margin="14.5,189,10,0" VerticalAlignment="Top" Background="#FF949494" Foreground="White"/>

                        <Button x:Name="buttonWrite" Content="转换并写入" Margin="0,0,10,10" HorizontalAlignment="Right" Width="126.5" Height="45" VerticalAlignment="Bottom" Visibility="Visible" Click="ButtonWrite_Click"/>
                        <Label x:Name="label4" Content="option.txt" HorizontalAlignment="Left" Margin="14.5,0,0,10" Width="74.75" Height="32.5" VerticalAlignment="Bottom"/>

                        <Image x:Name="ErrorImage" Margin="89.25,0,0,21.5" Source="109_AllAnnotations_Error_16x16_72.png" Stretch="Fill" Height="16" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="16"/>
                        <Label x:Name="labelError" Content="ERROR!" HorizontalAlignment="Left" Margin="110.25,0,0,14.5" Width="124" Height="28" VerticalAlignment="Bottom"/>
                        <Image x:Name="ErrorImageAdd" HorizontalAlignment="Right" Height="16" Margin="0,54.5,174.5,0" Source="109_AllAnnotations_Error_16x16_72.png" Stretch="Fill" VerticalAlignment="Top" Width="16" Visibility="Hidden"/>
                        <Label x:Name="labelErrorAdd" Content="串流地址不能为空！" HorizontalAlignment="Right" Height="26.25" Margin="0,49,46,0" VerticalAlignment="Top" Width="123.75" Visibility="Hidden"/>
                        <Image x:Name="ErrorImageCode" HorizontalAlignment="Right" Height="16" Margin="0,90.5,174.5,0" Source="109_AllAnnotations_Error_16x16_72.png" Stretch="Fill" VerticalAlignment="Top" Width="16" Visibility="Hidden"/>
                        <Label x:Name="labelErrorCode" Content="串流码不能为空！" HorizontalAlignment="Right" Height="28.738" Margin="0,86,49.75,0" VerticalAlignment="Top" Width="120" Visibility="Hidden"/>
                        <Image x:Name="CheckImage" Margin="88.75,0,0,21.5" Source="109_AllAnnotations_Default_16x16_72.png" Stretch="Fill" HorizontalAlignment="Left" Width="16" Height="16" VerticalAlignment="Bottom"/>
                        <Label x:Name="labelSourceName" Content="流名称" HorizontalAlignment="Right" Height="25" Margin="0,49,228.5,0" VerticalAlignment="Top" Width="67" RenderTransformOrigin="0.239,0.594" />
                        <TextBox x:Name="textBoxSourceName" Height="20" Margin="0,53,9.5,0" TextWrapping="Wrap" Text="流0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="222"/>
                        <Slider x:Name="sliderEditor" Height="23" Margin="0,0,253.5,10" VerticalAlignment="Bottom" Maximum="1" HorizontalAlignment="Right" Width="67.5" ValueChanged="SliderEditor_ValueChanged" Cursor="" AutoToolTipPlacement="TopLeft" AutoToolTipPrecision="1"/>
                        <Label x:Name="labelEditor" Content="编辑器转换" Margin="0,0,253.5,33" Height="25" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="70"/>
                        <Grid Margin="14.5,223.5,10,64">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition x:Name="DataCol" Width="*"/>
                                <ColumnDefinition x:Name="SeperateCol" Width="0"/>
                                <ColumnDefinition x:Name="TextCol" Width="0"/>
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Orientation="Horizontal">

                                    <Button x:Name="buttonWeb" Click="ButtonWeb_Click" IsEnabled="False" ToolTip="打开播流网页">
                                        <Image Source="WebForm(ASPX)_815_32x_color.png"/>
                                    </Button>
                                    <Button x:Name="buttonClearSelect" Click="ButtonClearSelect_Click" IsEnabled="False" ToolTip="清除选项">
                                        <Image Source="SelectRow_362.png" />
                                    </Button>
                                    <Button x:Name="buttonDelteAll" Click="ButtonDelteAll_Click" ToolTip="重置数据">
                                        <Image Source="DeleteTablefromDatabase_270.png"/>
                                    </Button>
                                </StackPanel>
                                <ListView Grid.Row="1" x:Name="listViewOpt" GotFocus="ListViewOpt_GotFocus" SelectionChanged="ListViewOpt_SelectionChanged">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="序号" DisplayMemberBinding="{Binding Id}" Width="30"/>
                                            <GridViewColumn Header="类型" DisplayMemberBinding="{Binding Type}" Width="80"/>
                                            <GridViewColumn Header="流名称" DisplayMemberBinding="{Binding SourceName}" Width="80"/>
                                            <GridViewColumn Header="推流代码" DisplayMemberBinding="{Binding StreamCode}" Width="200"/>
                                            <GridViewColumn Header="播流代码" DisplayMemberBinding="{Binding LiveViewingSite}" Width="200"/>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </Grid>
                            <Grid Grid.Column="2">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right">
                                    <Button x:Name="buttonRecover" Content="复原" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="51" Click="ButtonRecover_Click" Visibility="Hidden"/>
                                    <Button x:Name="buttonRead" Content="读取" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="52" Click="Button_Click" Visibility="Hidden"/>
                                </StackPanel>
                                <TextBox Grid.Row="1" x:Name="textBoxOpt" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" TextChanged="TextBoxOpt_TextChanged" GotFocus="TextBoxOpt_GotFocus"/>
                            </Grid>
                        </Grid>

                        <Label x:Name="labelWebsite" Content="直播网址" Height="34" Margin="0,83,231.5,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="64"/>
                        <TextBox x:Name="textBoxWebsite" Margin="0,88,32.5,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="199" Height="20" TextWrapping="WrapWithOverflow"/>
                        <Button x:Name="buttonlWHelp" Height="20" Margin="0,88,10,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="22" Click="ButtonlWHelp_Click" ToolTip="获取有关播流网址的帮助">
                            <Image Source="StatusAnnotations_Help_and_inconclusive_16xLG_color.png" />
                        </Button>
                        <Grid x:Name="GridLANTip" Height="127" Margin="145,47,300.5,0" VerticalAlignment="Top" Background="#FFE5E5E5">
                            <RadioButton x:Name="radioButtonSender" Content="发送" HorizontalAlignment="Left" Height="19" Margin="0,7,0,0" VerticalAlignment="Top" Width="47" Checked="radioButtonSender_Checked"/>
                            <RadioButton x:Name="radioButtonReceiver" Content="接收" HorizontalAlignment="Left" Height="18" Margin="0,40,0,0" VerticalAlignment="Top" Width="54" Checked="radioButtonReceiver_Checked" Unchecked="radioButtonReceiver_Unchecked"/>
                            <TextBlock x:Name="textBlockTip" Height="47" Margin="59,6,0,0" TextWrapping="Wrap" Text="请把播流地址传给直播主机。" VerticalAlignment="Top"/>
                            <Image x:Name="ImgRightArrow" Margin="0,0,6,65" Source="arrow_Forward_color_32xLG.png" Stretch="Fill" Height="28" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="28"/>
                            <ComboBox x:Name="comboBoxVideo" Height="19" Margin="122,71,6,0" VerticalAlignment="Top" VerticalContentAlignment="Center" SelectionChanged="comboBoxVideo_SelectionChanged" DropDownOpened="comboBoxVideo_DropDownOpened"/>
                            <ComboBox x:Name="comboBoxAudio" Height="19" Margin="122,102,6,0" VerticalAlignment="Top" VerticalContentAlignment="Center" SelectionChanged="comboBoxAudio_SelectionChanged" DropDownOpened="comboBoxAudio_DropDownOpened"/>
                            <RadioButton x:Name="radioButtonRecord" Content="捕获设备" HorizontalAlignment="Left" Height="17" Margin="0,72,0,0" VerticalAlignment="Top" Width="96" Checked="radioButtonRecord_Checked" Unchecked="radioButtonRecord_Unchecked"/>
                            <Label x:Name="label9" Content="视频" HorizontalAlignment="Left" Height="24" Margin="81,66,0,0" VerticalAlignment="Top" Width="36"/>
                            <Label x:Name="label9_Copy" Content="音频" HorizontalAlignment="Left" Height="24" Margin="81,97,0,0" VerticalAlignment="Top" Width="36"/>
                            <RadioButton x:Name="radioButtonScreen" Content="桌面" HorizontalAlignment="Left" Height="15" Margin="0,103,0,0" VerticalAlignment="Top" Width="81" Checked="radioButtonScreen_Checked"/>
                            <CheckBox x:Name="checkBoxTxCloud" Content="腾讯云" HorizontalAlignment="Left" Height="18" Margin="59,40,0,0" VerticalAlignment="Top" Width="68" Checked="checkBoxTxCloud_Checked" Unchecked="checkBoxTxCloud_Unchecked"/>

                        </Grid>
                        <CheckBox x:Name="checkBoxSolo" Content="接收端独立" Margin="0,0,124.5,17" HorizontalAlignment="Right" Width="107" Height="22" VerticalAlignment="Bottom" ToolTip="作为信号接收器但又需要分流直播时，请勾选此项。"/>


                    </Grid>
                </TabItem>
                <TabItem x:Name="tabItemTest" Header="测试" Width="70">
                    <Grid Background="#FFE5E5E5">
                        <Button x:Name="button" Content="开始测试" HorizontalAlignment="Left" Height="37.75" Margin="14.5,22.75,0,0" VerticalAlignment="Top" Width="128" Click="Button_Click_1" IsDefault="True" Background="#FFDDDDDD" Foreground="Black"/>
                        <ProgressBar x:Name="TestProgress" Height="37.75" Margin="147.5,65.5,10,0" VerticalAlignment="Top"/>
                        <Button x:Name="button1" Content="中止测试" Height="37.75" Margin="14.5,65.5,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="128" IsEnabled="False" Click="Button1_Click"/>
                        <Label x:Name="label2" Content="测试报告" Height="26.25" Margin="14.5,116.25,10,0" VerticalAlignment="Top" Background="#FF949494" Foreground="White"/>
                        <RichTextBox x:Name="richTextBox" Margin="14.5,153.5,10,47.25" Block.LineHeight="5" VerticalScrollBarVisibility="Auto">
                            <FlowDocument>
                                <Paragraph>
                                    <Run Text="尚无报告"/>
                                </Paragraph>
                            </FlowDocument>
                        </RichTextBox>
                        <Label x:Name="Testlabel" Content="就绪" Height="26.5" Margin="147.5,29.25,10,0" VerticalAlignment="Top"/>
                        <Image x:Name="image" HorizontalAlignment="Left" Margin="14.5,0,0,13" Width="16.25" Source="109_AllAnnotations_Error_16x16_72.png" Height="20" VerticalAlignment="Bottom"/>
                        <TextBox x:Name="textBoxRedCount" HorizontalAlignment="Left" Margin="35.75,0,0,11" TextWrapping="Wrap" Text="0" Width="39.5" IsReadOnly="True" Height="20" VerticalAlignment="Bottom"/>
                        <Label x:Name="labelUpTime" Content="更新时间:" Margin="0,0,10,5" Height="30" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="180"/>
                    </Grid>
                </TabItem>
                <TabItem x:Name="tabItemStream" Header="推流" Width="70">
                    <Grid Background="#FFE5E5E5">
                        <Button x:Name="button_StartLive" Content="开始推流" HorizontalAlignment="Left" Height="37.75" Margin="14.5,22.75,0,0" VerticalAlignment="Top" Width="128" Click="Button_StartLive_Click"/>
                        <Button x:Name="button_EndLive" Content="终止推流" HorizontalAlignment="Left" Height="37.75" Margin="14.5,65.5,0,0" VerticalAlignment="Top" Width="128" Click="Button_EndLive_Click"/>
                        <TextBox x:Name="textBoxLiveTime" Margin="147.5,66,10,0" TextWrapping="Wrap" Text="00:00:00" TextAlignment="Center" FontSize="28" Background="{x:Null}" Foreground="Black" Height="37.25" VerticalAlignment="Top" IsReadOnly="True"/>
                        <Label x:Name="labelLive" Content="就绪" Height="29" Margin="147.5,29.25,10,0" VerticalAlignment="Top"/>



                        <Button x:Name="buttonHelp" Content="启动侧栏" HorizontalAlignment="Left" Height="41.25" Margin="14.5,118.75,0,0" VerticalAlignment="Top" Width="128" Click="ButtonHelp_Click" Background="{DynamicResource {x:Static SystemColors.ActiveCaptionBrushKey}}" Foreground="White"/>
                        <StackPanel Margin="10,177,10,0.5">
                            <Expander x:Name="expander" Header="应急处理" BorderBrush="{x:Null}" BorderThickness="2" VerticalAlignment="Top" Background="#FFF9E0E0">
                                <Grid Margin="0,0,0,20">
                                    <Rectangle Fill="#FFFEE7E7" Height="130.5" Margin="176,39,71.5,0" VerticalAlignment="Top"/>
                                    <RichTextBox x:Name="richTextBox1" Height="130.5" Margin="175,39,71.5,0" VerticalAlignment="Top" Block.LineHeight="10">
                                        <FlowDocument>
                                            <Paragraph FontSize="18">
                                                <Bold>断线重连检查单</Bold>
                                            </Paragraph>
                                            <Paragraph>
                                                <Bold>
                                                    <Run Text="1."/>
                                                </Bold>
                                                <Run Text=" "/>
                                                <Run Text="  前往配置选项卡重新写入配置。"/>
                                            </Paragraph>
                                            <Paragraph>
                                                <Bold>
                                                    <Run Text="2."/>
                                                </Bold>
                                                <Run Text=" "/>
                                                <Run Text="  按下右边的按钮将在2s内完成终止推流与开始推流，从而完成重连。"/>
                                                <Run Text=" "/>
                                            </Paragraph>

                                            <Paragraph>
                                                <Bold>
                                                    <Run Text="*."/>
                                                </Bold>
                                                <Run Text=" "/>
                                                <Run Text="  仍不奏效，需要先重新确认，再在OBS里关开推流。"/>

                                            </Paragraph>
                                        </FlowDocument>
                                    </RichTextBox>
                                    <Button x:Name="button2" Content="配置" Click="Button2_Click" Margin="0,72.86,0,0" Height="20" VerticalAlignment="Top" HorizontalAlignment="Right" Width="70"/>
                                    <Button x:Name="button3" Content="急断急连" Click="Button3_Click" Margin="0,97.86,0,0" Height="20" VerticalAlignment="Top" HorizontalAlignment="Right" Width="70"/>
                                    <Button x:Name="buttonEGY" Content="启用断线重连" HorizontalAlignment="Left" Height="24" Margin="10,39,0,0" VerticalAlignment="Top" Width="155.5" Click="Button4_Click"/>
                                    <Button x:Name="ButtonQuitAll" Content="解决程序冲突" HorizontalAlignment="Left" Height="24" Margin="10,72.86,0,0" VerticalAlignment="Top" Width="155.5" Click="ButtonQuitAll_Click"/>
                                    <Rectangle Fill="#FFFEE7E7" Height="121.1" Margin="176,174.5,71.5,0" VerticalAlignment="Top"/>
                                    <RichTextBox x:Name="richTextBox2" Height="121.1" Margin="175,174.5,71.5,0" VerticalAlignment="Top" Block.LineHeight="10">
                                        <FlowDocument>
                                            <Paragraph FontSize="18">
                                                <Bold>程序冲突检查单</Bold>
                                            </Paragraph>
                                            <Paragraph>
                                                当多次开启推流而没有关闭（回收）的时候，修改的配置将不奏效，这时需要把推流程序全部关掉。
                                            </Paragraph>
                                            <Paragraph>
                                                <Bold>
                                                    <Run Text="1."/>
                                                </Bold>
                                                <Run Text=" "/>
                                                <Run Text="  按下右边的解决冲突按钮，将强制关闭全部的推流程序。"/>
                                                <Run Text=" "/>
                                            </Paragraph>
                                            <Paragraph>
                                                <Bold>
                                                    <Run Text="2."/>
                                                </Bold>
                                                <Run Text=" "/>
                                                <Run Text="  当检测到全部关闭的时候将会自动重启推流程序。请在OBS里关开推流。"/>
                                                <Run Text=" "/>
                                            </Paragraph>
                                        </FlowDocument>
                                    </RichTextBox>
                                    <Button x:Name="buttonCross" Content="解决冲突" Height="19.5" Margin="0,232.6,0,0" VerticalAlignment="Top" Click="ButtonCross_Click" HorizontalAlignment="Right" Width="70"/>
                                    <Button x:Name="button5" Content="配置" Height="20" Margin="0,207.6,0,0" VerticalAlignment="Top" IsCancel="True" Click="Button2_Click" HorizontalAlignment="Right" Width="70"/>
                                </Grid>
                            </Expander>
                        </StackPanel>
                        <Image x:Name="imageProtection" HorizontalAlignment="Left" Height="23" Margin="156,127,0,0" VerticalAlignment="Top" Width="24" Source="StatusAnnotations_Warning_32xLG_color.png" Visibility="Hidden"/>
                        <Label x:Name="labelProtection" Content="Protection" HorizontalAlignment="Left" Margin="185,124,0,0" VerticalAlignment="Top" Visibility="Hidden"/>
                        <Button x:Name="buttonClock" Height="21" Margin="0,119,10,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="70" Click="ButtonClock_Click" ToolTip="终止推流定时器">
                            <Image Source="clock.png" Width="16" />
                        </Button>
                        <TextBox x:Name="textBoxClock" Height="20" Margin="0,140,38,0" TextWrapping="Wrap" VerticalAlignment="Top" HorizontalAlignment="Right" Width="42" TextAlignment="Center" TextChanged="TextBoxClock_TextChanged"/>
                        <Label x:Name="label10" Content="min" Height="25" Margin="0,138,1,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="37"/>
                    </Grid>
                </TabItem>
                <TabItem x:Name="TabItemScreen" Header="公屏" Width="70">
                    <Grid x:Name="tabScreen" Background="#FFE5E5E5">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"/>
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <StackPanel Margin="5">
                            <Border Background="White" CornerRadius="10" Margin="0,5,0,0">
                                <Grid Margin="10">
                                    <StackPanel Margin="0,0,0,5">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="auto"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="auto"/>
                                                <ColumnDefinition Width="2*"/>
                                            </Grid.ColumnDefinitions>
                                            <Label Content="过渡秒数"/>
                                            <Slider x:Name="SliderTransSec" Grid.Column="1" Minimum="0.2" Maximum="5" Value="1" AutoToolTipPlacement="TopLeft" ValueChanged="SliderTransSec_ValueChanged" VerticalAlignment="Center" AutoToolTipPrecision="1" />
                                            <Label Grid.Row="1" Content="公屏大小"/>
                                            <ComboBox x:Name="comboBoxSize" Grid.Row="1" Grid.Column="1">
                                                <ComboBoxItem x:Name="SizeFullScreen" Content="全屏" Selected="SizeFullScreen_Selected" />
                                                <ComboBoxItem x:Name="Size1080P" Content="1920x1080" Selected="Size1080P_Selected" />
                                                <ComboBoxItem x:Name="Size720P" Content="1280x720" Selected="Size720P_Selected" />
                                            </ComboBox>
                                            <Label Grid.Column="2" Content="抽奖人数" />
                                            <Slider x:Name="SliderGiftNum" Grid.Column="3" VerticalAlignment="Center" Minimum="1" Maximum="20" AutoToolTipPlacement="TopLeft" SmallChange="1"/>
                                            <Label Grid.Row="1" Grid.Column="2" Content="抽奖弹幕"/>
                                            <TextBox x:Name="TextBoxGiftDanmu" Grid.Row="1" Grid.Column="3" ToolTip="弹幕要与此相同才可以参与抽奖，留空为任意弹幕。"/>
                                        </Grid>
                                    </StackPanel>

                                </Grid>

                            </Border>
                            <Border Background="White" CornerRadius="10" Margin="0,5,0,0">
                                <StackPanel  Margin="10">
                                    <Grid Height="40" Background="{DynamicResource CheckersBrush}" Opacity="{Binding Value, ElementName=OpacSlider}" Margin="0,5,0,0">
                                        <Rectangle>
                                            <Rectangle.Fill>
                                                <SolidColorBrush Color="{Binding SelectedColor, ElementName=BackColorPicker}" />
                                            </Rectangle.Fill>
                                        </Rectangle>
                                        <Label Content="弹幕 Danmaku" HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="{Binding Value, ElementName=OpacSliderFore}" FontSize="{Binding Value, ElementName=SliderTextSize}" FontFamily="{Binding Text, ElementName=ComboBoxFont}">
                                            <Label.Effect>
                                                <BlurEffect Radius="{Binding Value, ElementName=SliderBlur}"/>
                                            </Label.Effect>
                                            <Label.Foreground>
                                                <SolidColorBrush Color="{Binding SelectedColor, ElementName=ForeColorPicker}" />
                                            </Label.Foreground>
                                        </Label>
                                    </Grid>
                                    <Grid x:Name="DanmuSetting">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Margin="5">
                                            <Expander x:Name="DanmakuContentExp" Header="内容" Margin="0,5,0,0" IsExpanded="True">
                                                <Grid Margin="0,5,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="auto"/>
                                                        <ColumnDefinition/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition/>
                                                        <RowDefinition/>
                                                    </Grid.RowDefinitions>
                                                    <Button x:Name="buttonStoreSec" Grid.Row="0" Content="弹幕池存储秒数" Background="#FF6DC2F9" Foreground="#FFFFFDFA" BorderBrush="#FF126EC7" Padding="5,3" Click="ButtonStoreSec_Click" />
                                                    <TextBox x:Name="textBoxStoreSec" Text="5" TextChanged="TextBoxStoreSec_TextChanged" Grid.Column="1" VerticalContentAlignment="Center" HorizontalAlignment="Left" Width="32"/>
                                                    <Slider x:Name="SliderStoreSec" Grid.Column="1" Margin="32,0,0.5,0" Maximum="300" Minimum="2" Value="5" SmallChange="0.5" TickFrequency="100" ValueChanged="SliderStoreSec_ValueChanged" />
                                                    <Button x:Name="buttonRegex" Grid.Row="1" Content="弹幕正则表达式" Background="#FFFFFDFA" Foreground="#FF6DC2F9" Padding="5,3" Click="ButtonRegex_Click"/>
                                                    <TextBox x:Name="textBoxRegex" Grid.Row="1" Grid.Column="1" VerticalContentAlignment="Center" TextChanged="TextBoxRegex_TextChanged" />
                                                </Grid>
                                            </Expander>
                                            <Expander x:Name="DanmuOverallExp" Header="通用" IsExpanded="True" Margin="0,5,0,0">
                                                <StackPanel x:Name="StackPanelFDHControls" Margin="0,5,0,0">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="auto"/>
                                                            <ColumnDefinition />
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition/>
                                                            <RowDefinition/>
                                                            <RowDefinition/>
                                                            <RowDefinition/>
                                                            <RowDefinition/>
                                                            <RowDefinition/>
                                                            <RowDefinition/>
                                                        </Grid.RowDefinitions>
                                                        <Button x:Name="buttonWinTrans" Grid.Row="0" Content="窗口不透明度" VerticalAlignment="Center" Padding="5,3" Background="#FF6DC2F9" Foreground="#FFFEFDFA" Click="ButtonWinTrans_Click"/>
                                                        <colorPicker:ColorSlider Grid.Row="0" x:Name="OpacSlider" Grid.Column="1" LeftColor="#00000000" RightColor="{Binding SelectedColor, ElementName=BackColorPicker}" Maximum="1" LargeChange="0.1" ValueChanged="OpacSlider_ValueChanged" Background="{DynamicResource CheckersBrush}"/>
                                                        <Button x:Name="buttonDanmuTrans" Grid.Row="1" Content="弹幕不透明度" Padding="5,3" Background="#FF6DC2F9" Foreground="#FFFEFDFA" Click="ButtonDanmuTrans_Click" Height="23" VerticalAlignment="Bottom"/>
                                                        <colorPicker:ColorSlider Grid.Row="1" x:Name="OpacSliderFore" Grid.Column="1" LeftColor="#00000000" RightColor="{Binding SelectedColor, ElementName=ForeColorPicker}" Value="1" Maximum="1" LargeChange="0.1" ValueChanged="OpacSliderFore_ValueChanged" Background="{DynamicResource CheckersBrush}" />
                                                        <Label x:Name="buttonBackColorPicker" Grid.Row="2" Content="窗口背景" VerticalAlignment="Center" Padding="5,3" HorizontalContentAlignment="Left" Foreground="#FFFEFDFA" Background="#FF6DC2F9" Height="25" VerticalContentAlignment="Center"/>
                                                        <colorPicker:ColorComboBox x:Name="BackColorPicker" Grid.Column="1" Grid.Row="2" SelectedColorChanged="BackColorPicker_SelectedColorChanged" SelectedColor="Black" />
                                                        <Button x:Name="buttonTextFore" Grid.Row="3" Content="字体前景" Padding="5,3" HorizontalContentAlignment="Left" Background="#FF6DC2F9" Foreground="#FFFEFDFA" VerticalContentAlignment="Center" Click="ButtonTextFore_Click" ToolTip="按下将弹幕公屏置顶。"/>
                                                        <colorPicker:ColorComboBox x:Name="ForeColorPicker" Grid.Row="3" Grid.Column="1" SelectedColor="White" SelectedColorChanged="ForeColorPicker_SelectedColorChanged"/>
                                                        <Button x:Name="buttonBackImg" Grid.Row="4" Content="前景源" Padding="5,3" HorizontalContentAlignment="Left" Foreground="#FFFEFDFA" Background="#FF6DC2F9" Click="ButtonBackImg_Click"/>
                                                        <ComboBox x:Name="ComboBoxBackImg" Grid.Row="4" Grid.Column="1" SelectedIndex="0" VerticalContentAlignment="Center">
                                                            <ComboBoxItem x:Name="BackNone" Content="无" Selected="BackNone_Selected" />
                                                            <ComboBoxItem x:Name="BackLive" Content="直播源" Selected="BackLive_Selected" Unselected="BackLive_Unselected" />
                                                            <ComboBoxItem x:Name="BackPic" Content="图片..." Selected="BackPic_Selected"/>
                                                            <ComboBoxItem x:Name="BackVid" Content="视频..." Selected="BackVid_Selected" Unselected="BackVid_Unselected" />
                                                        </ComboBox>
                                                        <Button x:Name="buttonForeImg" Content="背景源" Grid.Row="5" Padding="5,3" HorizontalContentAlignment="Left" Background="#FF6DC2F9" Foreground="#FFFEFDFA" Click="ButtonForeImg_Click"/>
                                                        <ComboBox x:Name="ComboBoxForeImg" Grid.Row="5" Grid.Column="1" SelectedIndex="0" VerticalContentAlignment="Center">
                                                            <ComboBoxItem x:Name="ForeNone" Content="无" Selected="ForeNone_Selected"/>
                                                            <ComboBoxItem x:Name="ForePic" Content="图片..." Selected="ForePic_Selected"/>
                                                            <ComboBoxItem x:Name="ForeVid" Content="视频..." Selected="ForeVid_Selected" Unselected="ForeVid_Unselected" />
                                                        </ComboBox>
                                                    </Grid>
                                                </StackPanel>
                                            </Expander>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Margin="5">
                                            <Expander x:Name="DanmuStyleExp" Header="弹幕样式" IsExpanded="True" Margin="0,5,0,0">
                                                <StackPanel>
                                                    <ComboBox x:Name="ComboBoxDanmuStyle" Margin="0,5,0,0" SelectedIndex="0">
                                                        <ComboBoxItem x:Name="DanmuPlain" Content="普通" Selected="DanmuPlain_Selected"/>
                                                        <ComboBoxItem x:Name="DanmuBubble" Content="气泡" Selected="DanmuBubble_Selected"/>
                                                        <ComboBoxItem x:Name="DanmuBubbleFloat" Content="气泡悬浮" Selected="DanmuBubbleFloat_Selected"/>
                                                        <ComboBoxItem x:Name="DanmuBubbleCorner" Content="气泡右下" Selected="DanmuBubbleCorner_Selected"/>
                                                        <ComboBoxItem x:Name="DanmuBottomBar" Content="底部滚动条" Selected="DanmuBottomBar_Selected"/>
                                                        <ComboBoxItem x:Name="DanmuBottomBarWithUserName" Content="底部滚动条(含用户名)" Selected="DanmuBottomBarWithUserName_Selected" />
                                                    </ComboBox>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="auto"/>
                                                            <ColumnDefinition />
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="25" />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                        </Grid.RowDefinitions>
                                                        <Label Content="悬浮时间"/>
                                                        <Slider x:Name="SliderHovTime" Grid.Column="1" Minimum="1" Maximum="30" Value="10" AutoToolTipPlacement="TopLeft" ValueChanged="SliderHovTime_ValueChanged" IsSelectionRangeEnabled="True" SelectionEnd="15" SelectionStart="5"/>
                                                        <Label Content="最大字号" Grid.Row="1"/>
                                                        <Slider x:Name="SliderTextSize" Grid.Row="1" Grid.Column="1" Minimum="10" Maximum="72" Value="32" AutoToolTipPlacement="TopLeft" ValueChanged="SliderTextSize_ValueChanged" IsSelectionRangeEnabled="True" SelectionEnd="48" SelectionStart="20" />
                                                        <Label Content="悬浮层数" Grid.Row="2"/>
                                                        <Slider x:Name="SliderLayer" Grid.Row="2" Grid.Column="1" Minimum="1" Maximum="15" Value="3" SmallChange="1" LargeChange="3" AutoToolTipPlacement="TopLeft" ValueChanged="SliderLayer_ValueChanged" IsSelectionRangeEnabled="True" SelectionEnd="6" SelectionStart="3" />
                                                        <Label Content="最大模糊" Grid.Row="3"/>
                                                        <Slider x:Name="SliderBlur" Grid.Row="3" Grid.Column="1" Maximum="30" IsSelectionRangeEnabled="True" SelectionStart="5" SelectionEnd="20" Value="10" AutoToolTipPlacement="TopLeft" ValueChanged="SliderBlur_ValueChanged" />
                                                        <Label Content="缩小系数" Grid.Row="4"/>
                                                        <Slider x:Name="SliderFactor" Grid.Row="4" Grid.Column="1" Minimum="0.01" Maximum="1" AutoToolTipPlacement="TopLeft" SelectionStart="0.7" SelectionEnd="0.9" IsSelectionRangeEnabled="True" Value="0.85" ValueChanged="SliderFactor_ValueChanged" AutoToolTipPrecision="2" />
                                                        <Label Content="屏幕占比" Grid.Row="5"/>
                                                        <Slider x:Name="SliderRatio" Grid.Row="5" Grid.Column="1" Maximum="1" Minimum="0.01" Value="0.333" IsSelectionRangeEnabled="True" SelectionStart="0.333" SelectionEnd="0.667" ValueChanged="SliderRatio_ValueChanged" AutoToolTipPlacement="TopLeft" AutoToolTipPrecision="2" />
                                                        <Label Content="字体名称" Grid.Row="6"/>
                                                        <ComboBox x:Name="ComboBoxFont" Grid.Row="6" Grid.Column="1" SelectionChanged="ComboBoxFont_SelectionChanged" VerticalContentAlignment="Center"/>
                                                        <Label Content="气泡颜色" Grid.Row="7" />
                                                        <colorPicker:ColorComboBox x:Name="ColorComboBoxBubble" Grid.Row="7" Grid.Column="1" SelectedColor="Black" SelectedColorChanged="ColorComboBoxBubble_SelectedColorChanged" />
                                                    </Grid>
                                                </StackPanel>
                                            </Expander>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>

                            </Border>
                        </StackPanel>
                        <Border Grid.Row="1" Background="White" CornerRadius="10" Margin="5,5,5,5" KeyDown="Border_KeyDown">
                            <Grid x:Name="GridSubtitler" Margin="15">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <Button x:Name="buttonSurfaceDial" Click="buttonSurfaceDial_Click" ToolTip="启用 Surface Dial 控制">
                                        <Image Source="SurfaceDial.png" Height="20"/>
                                    </Button>
                                    <StackPanel x:Name="SubtitlerStack" GotFocus="SubtitlerStack_GotFocus">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition/>
                                                <ColumnDefinition/>
                                                <ColumnDefinition/>
                                            </Grid.ColumnDefinitions>
                                            <Button x:Name="buttonPrev" Click="buttonPrev_Click" ToolTip="上一条([,⤴)" >
                                                <Image Source="arrow_Previous_16xLG_color.png" Width="20" ></Image>
                                            </Button>
                                            <Button x:Name="buttonNext" Grid.Column="1" Click="buttonNext_Click" ToolTip="下一条(],⤵)">
                                                <Image Source="arrow_Next_16xLG_color.png" Width="20" />
                                            </Button>
                                            <Button x:Name="buttonClearHistory" Grid.Column="2" Click="buttonClearHistory_Click" ToolTip="清空历史(\,🔘)">
                                                <Image Source="Clearwindowcontent_6304.png" Width="15"/>
                                            </Button>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="1*"/>
                                                <ColumnDefinition Width="2*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <Button x:Name="buttonSubtitler" ToolTip="打开字幕机/关闭字幕机" Click="buttonSubtitler_Click" Background="#FF6DC2F9">
                                                <Image RenderTransformOrigin="0.5,0.5" Source="lines_Text_code_16xLG.png" Height="20" Width="20"/>
                                            </Button>
                                            <Slider Grid.Column="1" x:Name="SliderSubTran" VerticalContentAlignment="Center" VerticalAlignment="Center" Maximum="1" ToolTip="字幕机不透明度" AutoToolTipPrecision="1" AutoToolTipPlacement="TopLeft" ValueChanged="SliderSubTran_ValueChanged"/>
                                            <Label Grid.Row="1" Content="边距比例"/>
                                            <Slider x:Name="SliderSubBazelDist" Grid.Row="1" Grid.Column="1" VerticalContentAlignment="Center" VerticalAlignment="Center" Maximum="1" AutoToolTipPlacement="TopLeft" AutoToolTipPrecision="3" Value="0.1" IsSelectionRangeEnabled="True" SelectionEnd="0.25" ValueChanged="SliderSubBazelDist_ValueChanged"/>
                                        </Grid>
                                    </StackPanel>
                                    <StackPanel x:Name="PlayerStack" GotFocus="PlayerStack_GotFocus">
                                        <TextBlock x:Name="TextBlockStatus" Text="就绪" FontSize="16" FontWeight="Bold" Background="#FFF1F2F7" Padding="0,5,0,0"/>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="1*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="1" x:Name="textblockTimeProc" Text="00:00.000/00:00.000" TextAlignment="Right" Background="#FFF1F2F7" Padding="0,0,5,0"/>
                                            <TextBlock x:Name="textblockListNum" Text="0/0" Background="#FFF1F2F7" />
                                        </Grid>
                                        <Slider x:Name="sliderProgress" Style="{DynamicResource SliderStyleRound}" Margin="0" Background="#FFF1F2F7" IsEnabled="False"/>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition/>
                                                <ColumnDefinition/>
                                                <ColumnDefinition/>
                                            </Grid.ColumnDefinitions>
                                            <Button x:Name="buttonPlay" Click="buttonPlay_Click" IsEnabled="False" ToolTip="播放(I,🔘)">
                                                <Image Source="Symbols_Play_32xLG.png" Width="20"/>
                                            </Button>
                                            <Button x:Name="buttonStop" Grid.Column="1" IsEnabled="False" Click="buttonStop_Click" ToolTip="停止(O,🔘)">
                                                <Image  Width="15" Source="StatusAnnotations_Stop_32xLG_color.png"  />
                                            </Button>
                                            <Button x:Name="buttonNextFile" Grid.Column="2" Click="buttonNextFile_Click" IsEnabled="False" ToolTip="下一首(P,⤵)">
                                                <Image Source="Nextrequest_10302.png" Width="15" />
                                            </Button>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="1*"/>
                                                <ColumnDefinition Width="2*"/>
                                            </Grid.ColumnDefinitions>
                                            <Button x:Name="buttonOpenFolder" Click="buttonOpenFolder_Click" >
                                                <Image Source="Folder(special)_5843_32x.png" Width="20" />
                                            </Button>
                                            <TextBox x:Name="FileSearchBox" Grid.Column="1" BorderBrush="#FF707070" VerticalContentAlignment="Center" IsEnabled="False" TextChanged="FileSearchBox_TextChanged"/>
                                        </Grid>
                                    </StackPanel>

                                </StackPanel>
                                <GridSplitter Width="5" Grid.Column="1" HorizontalAlignment="Stretch"/>
                                <Grid Grid.Column="2">

                                    <Grid.RowDefinitions>
                                        <RowDefinition x:Name="RowPrevSub" Height="0"/>
                                        <RowDefinition x:Name="RowCurrentSub" Height="30"/>
                                        <RowDefinition x:Name="RowNextSub"/>
                                    </Grid.RowDefinitions>
                                    <TextBox x:Name="textboxPrevSub" Grid.Row="0" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" BorderBrush="{x:Null}" Background="#FFEAEAEA"/>
                                    <TextBox x:Name="textboxCurrentSub" Grid.Row="1" FontSize="22" VerticalContentAlignment="Center" BorderBrush="{x:Null}" Background="WhiteSmoke" TextChanged="textboxCurrentSub_TextChanged"/>
                                    <TextBox x:Name="textboxNextSub" Grid.Row="2" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" BorderBrush="{x:Null}" Background="#FFFAFAFA"/>
                                </Grid>
                            </Grid>
                        </Border>

                    </Grid>
                </TabItem>

                <TabItem x:Name="TabItemSetting" Header="设置" Width="70">
                    <Grid Background="#FFE5E5E5">
                        <StackPanel Height="208" VerticalAlignment="Top" Margin="0,10,25,0" HorizontalAlignment="Right" Width="340">
                            <Grid x:Name="Rec1" Background="#FFF4F4F5" HorizontalAlignment="Right" Height="45" VerticalAlignment="Top" Width="332" Margin="0,2.5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Image x:Name="WarPic" Source="StatusAnnotations_Warning_32xLG_color.png" Stretch="Fill" Width="32" Height="32" />
                                <TextBlock x:Name="labell1" TextWrapping="Wrap" Text="       为保证测试准确性，请在测试开始后开启 OBS 推流。只有在有数据流时结果才是准确的。" Height="35" Grid.Column="1" Margin="5,7,5,3"/>
                            </Grid>
                            <Grid x:Name="Rec2" Background="#FFF4F4F5" HorizontalAlignment="Right" Height="45"  VerticalAlignment="Top" Width="332" Margin="0,2.5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Image x:Name="WarPic2" Source="StatusAnnotations_Warning_32xLG_color.png" Stretch="Fill" Width="32" Height="32" />
                                <TextBlock x:Name="labell2" TextWrapping="Wrap" Text="       你需要重新连接弹幕，让弹幕接收设置生效。" Height="35" Grid.Column="1" Margin="5,0"/>
                            </Grid>
                            <Grid x:Name="Rec3" Background="#FFF4F4F5" HorizontalAlignment="Right" Height="45"  VerticalAlignment="Top" Width="332" Margin="0,2.5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Image x:Name="WarPic3" Source="StatusAnnotations_Warning_32xLG_color.png" Stretch="Fill" Width="32" Height="32" />
                                <TextBlock x:Name="labell3" TextWrapping="Wrap" Text="       启用 Surface Dial 功能需要操作系统为 Windows 10 版本。" Height="35" Grid.Column="1" Margin="5,0"/>
                            </Grid>
                            <Grid x:Name="Rec4" Background="#FFF4F4F5" HorizontalAlignment="Right" Height="45"  VerticalAlignment="Top" Width="332" Margin="0,2.5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Image x:Name="WarPic4" Source="StatusAnnotations_Warning_32xLG_color.png" Stretch="Fill" Width="32" Height="32" />
                                <TextBlock x:Name="labell4" TextWrapping="Wrap" Text="       系统时间可视时（转至推流选项卡），弹幕公屏的监视帧率将尽可能达到 30 fps。" Height="35" Grid.Column="1" Margin="5,0"/>
                            </Grid>

                        </StackPanel>

                        <RichTextBox x:Name="richTextBoxTu" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" IsReadOnly="True" Margin="25,286,25,24.5">
                            <FlowDocument>
                                <Paragraph>
                                    <Run Text="Tutourial Error"/>
                                </Paragraph>
                            </FlowDocument>
                        </RichTextBox>

                        <Button x:Name="button6" Content="清除所有设置" HorizontalAlignment="Left" Margin="25,259,0,0" Width="170" Click="Button6_Click" Height="20" VerticalAlignment="Top"/>
                        <Button x:Name="button7" Content="确认" HorizontalAlignment="Left" Margin="200,259,0,0" Width="42" Click="Button7_Click" Height="20" VerticalAlignment="Top"/>
                        <StackPanel Margin="24,10,24,0" CanVerticallyScroll="True" ScrollViewer.CanContentScroll="True" Height="244" VerticalAlignment="Top">
                            <CheckBox x:Name="checkBoxtest" Content="测试时不使用ffmpeg" HorizontalAlignment="Left" VerticalAlignment="Top" Width="147" Checked="CheckBoxtest_Checked" Unchecked="CheckBoxtest_Unchecked" Margin="0,5,0,0"/>
                            <CheckBox x:Name="checkBox2" Content="解决程序冲突时不再次启动推流" HorizontalAlignment="Left" VerticalAlignment="Top" Width="203" Checked="CheckBox2_Checked" Unchecked="CheckBox2_Unchecked" Margin="0,5,0,0"/>
                            <CheckBox x:Name="checkBoxFullRange" Content="全局调试模式(较慢)" Checked="CheckBox_Checked" HorizontalAlignment="Left" Width="130" VerticalAlignment="Top" Unchecked="CheckBoxFullRange_Unchecked" Margin="0,5,0,0"/>
                            <CheckBox x:Name="checkBoxCloseProtect" Content="关闭监视器保护模式" HorizontalAlignment="Left" Width="130" BorderThickness="1" Margin="0,5,0,0" Checked="CheckBoxCloseProtect_Checked" Unchecked="CheckBoxCloseProtect_Unchecked"/>
                            <CheckBox x:Name="checkBoxCloseSniffing" Content="关闭播流地址自动获取" HorizontalAlignment="Left" Margin="0,5,0,0" Width="147" Checked="CheckBoxCloseSniffing_Checked" Unchecked="CheckBoxCloseSniffing_Unchecked"/>
                            <CheckBox x:Name="checkBoxClosingAnim" Content="计时器关闭推流时播放Closing.mp4" HorizontalAlignment="Left" Height="16" Margin="0,5,0,0" Width="242"/>
                            <CheckBox x:Name="checkBoxLowMoni" Content="使用低延迟监视器（弃用）" Margin="0,5,0.5,0" Checked="checkBoxLowMoni_Checked" Unchecked="checkBoxLowMoni_Unchecked" IsEnabled="False" Visibility="Collapsed"/>

                            <CheckBox x:Name="checkBoxSystemTime" Margin="0,5,0.5,0" Content="显示系统时间(高刷新公屏监视)" Checked="checkBoxSystemTime_Checked" Unchecked="checkBoxSystemTime_Unchecked"/>
                            <CheckBox x:Name="checkBoxNetwork" Content="打开网络延迟设置" Margin="0,5,0.5,0" Checked="checkBoxNetwork_Checked" Unchecked="checkBoxNetwork_Unchecked" />
                            <CheckBox x:Name="checkBoxDanmuLink" Margin="0,5,0.5,0" Content="只接收第一个B站地址的弹幕" Checked="checkBoxDanmuLink_Checked" Unchecked="checkBoxDanmuLink_Unchecked"/>

                            <CheckBox x:Name="checkBoxSurfaceDial" Margin="0,5,0.5,0" Content="启动时初始化 Surface Dial" Checked="checkBoxSurfaceDial_Checked" Unchecked="checkBoxSurfaceDial_Unchecked"/>
                            <CheckBox x:Name="checkBoxSubtitleAlways" Margin="0,5,0.5,0" Content="始终启用字幕机" Checked="checkBoxSubtitleAlways_Checked" Unchecked="checkBoxSubtitleAlways_Unchecked"/>
                            <CheckBox x:Name="checkBoxBottomBarAuto" Margin="0,5,0.5,0" Content="随弹幕接收自动弹出或弹回底部字幕条" Checked="checkBoxBottomBarAuto_Checked" Unchecked="checkBoxBottomBarAuto_Unchecked"/>
                        </StackPanel>
                        <Button x:Name="buttonTest" Content="试验性界面" HorizontalAlignment="Left" Height="66" Margin="331,152,0,0" VerticalAlignment="Top" Width="85" Click="ButtonTest_Click" Visibility="Hidden"/>

                    </Grid>
                </TabItem>

            </TabControl>
            <GridSplitter x:Name="ColumnSplit" Grid.Column="1" Width="5" HorizontalAlignment="Stretch"/>
            <Grid Grid.Column="2" Background="{DynamicResource {x:Static SystemColors.InactiveBorderBrushKey}}">
                <StackPanel x:Name="StackPanelRightCol"  Margin="5,0" Focusable="True" KeyDown="StackPanelRightCol_KeyDown">
                    <Grid Margin="0,15,0,0" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="auto"/>
                        </Grid.ColumnDefinitions>
                        <Label x:Name="label7" Content="直播监视器" Foreground="White" Background="{DynamicResource {x:Static SystemColors.ActiveCaptionBrushKey}}" VerticalContentAlignment="Center" Padding="10,5,5,5"/>
                        <Button x:Name="buttonMonitorRefresh" Grid.Column="1" Width="27" Background="#FF8BA1B9" BorderBrush="#FF8BA1B9" Height="27" ToolTip="重载所有监视器" Click="buttonMonitorRefresh_Click" Visibility="Collapsed">
                            <Image RenderTransformOrigin="0.5,0.5" Source="refresh_16xLG.png" >
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="0.7" ScaleY="0.7"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>
                        <Button x:Name="buttonMonitorSound" Grid.Column="1" Width="27" Background="#FF8BA1B9" BorderBrush="#FF8BA1B9" Height="27" ToolTip="打开音控台" Click="buttonMonitorSound_Click">
                            <Image Source="Soundfile_461.png" RenderTransformOrigin="0.5,0.5" >
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="0.7" ScaleY="0.7"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>
                    </Grid>
                    <Slider x:Name="SliderNetwork" Maximum="3000" Value="500" IsSelectionRangeEnabled="True" SelectionStart="300" SelectionEnd="1500" AutoToolTipPlacement="TopLeft" ToolTip="网络缓存(ms)" ValueChanged="SliderNetwork_ValueChanged" Visibility="Collapsed" />
                    <Viewbox x:Name="ViewboxMonitor" Margin="0">
                        <Grid x:Name="Monitoring" Margin="0,0,0,0" Width="1600" Height="900" Background="#FFE2EBF4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition x:Name="Col0" Width="*"/>
                                <ColumnDefinition x:Name="Col1" Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition x:Name="Row0" Height="*"/>
                                <RowDefinition x:Name="Row1" Height="*"/>
                            </Grid.RowDefinitions>
                            <Border Grid.Column="0" Grid.Row="0" x:Name="BorderLU" BorderThickness="15">
                                <Border.BorderBrush>
                                    <SolidColorBrush Color="#FF99B4D1" Opacity="0"/>
                                </Border.BorderBrush>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="23"/>
                                    </Grid.ColumnDefinitions>
                                    <Label x:Name="LabelLU" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="48"/>
                                    <Image x:Name="LiveLU" Focusable="True" Margin="0"/>
                                    <Grid Grid.Column="1" >
                                        <ProgressBar x:Name="ProgressLU" Value="0" Orientation="Vertical" ToolTip="↑↓调整音量 M静音"/>
                                    </Grid>
                                </Grid>
                            </Border>
                            <Border Grid.Column="1" Grid.Row="0" x:Name="BorderRU" BorderThickness="15">
                                <Border.BorderBrush>
                                    <SolidColorBrush Color="#FF99B4D1" Opacity="0"/>
                                </Border.BorderBrush>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="23"/>
                                    </Grid.ColumnDefinitions>
                                    <Label x:Name="LabelRU" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="48"/>
                                    <Image x:Name="LiveRU"/>
                                    <Grid Grid.Column="1" >
                                        <ProgressBar x:Name="ProgressRU" Value="0" Orientation="Vertical" ToolTip="↑↓调整音量 M静音"/>
                                    </Grid>
                                </Grid>
                            </Border>
                            <Border Grid.Column="0" Grid.Row="1" x:Name="BorderLD" BorderThickness="15">
                                <Border.BorderBrush>
                                    <SolidColorBrush Color="#FF99B4D1" Opacity="0"/>
                                </Border.BorderBrush>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="23"/>
                                    </Grid.ColumnDefinitions>
                                    <Label x:Name="LabelLD" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="48"/>
                                    <Image x:Name="LiveLD"/>
                                    <Grid Grid.Column="1" >
                                        <ProgressBar x:Name="ProgressLD" Value="0" Orientation="Vertical" ToolTip="↑↓调整音量 M静音"/>
                                    </Grid>
                                </Grid>
                            </Border>
                            <Border Grid.Column="1" Grid.Row="1" x:Name="BorderRD" BorderThickness="15">
                                <Border.BorderBrush>
                                    <SolidColorBrush Color="#FF99B4D1" Opacity="0"/>
                                </Border.BorderBrush>
                                <Grid>
                                    <Label x:Name="LabelRD" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="48"/>
                                    <Image x:Name="LiveRD"/>
                                </Grid>

                            </Border>
                        </Grid>
                    </Viewbox>
                    <Grid x:Name="MonitorBtn" Height="20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Height="20" Orientation="Horizontal" Margin="0" HorizontalAlignment="Left">
                            <Button x:Name="buttonLU" Click="ButtonLU_Click" KeyDown="ButtonLU_KeyDown" KeyUp="ButtonLU_KeyUp" ToolTip="左上(Q,A,Z)">
                                <Image Source="arrow_LU_16xLG.png" />
                            </Button>
                            <Button x:Name="buttonRU" Click="ButtonRU_Click" ToolTip="右上(W,S,X)">
                                <Image Source="arrow_RU_16xLG.png" />
                            </Button>
                            <Button x:Name="buttonLD" Click="ButtonLD_Click" ToolTip="左下(E,D,C)">
                                <Image Source="arrow_LD_16xLG.png" />
                            </Button>
                            <Button x:Name="buttonRD" Click="ButtonRD_Click" ToolTip="右下(R,F,V)">
                                <Image Source="arrow_RD_16xLG.png" />
                            </Button>
                            <Button x:Name="buttonSolo" VerticalAlignment="Top" Height="20" Click="ButtonSolo_Click" ToolTip="独显(S)" IsEnabled="False">
                                <Image x:Name="SoloImg" Source="RecordRound_16xLG.png" Opacity="0.5"/>
                            </Button>
                            <Button x:Name="buttonDismiss" Click="ButtonDismiss_Click" ToolTip="关闭警报">
                                <Image x:Name="DismissImg" Source="RecordStop_16xLG.png" Opacity="0.5"/>
                            </Button>
                            <Button x:Name="buttonExtPlayer" ToolTip="打开低延迟外置监视器" Click="buttonExtPlayer_Click">
                                <Image Source="OpenFileDialog_692.png" />
                            </Button>
                        </StackPanel>
                        <ComboBox Grid.Column="1" x:Name="comboBoxSource" DisplayMemberPath="SourceName" SelectionChanged="ComboBoxSource_SelectionChanged" ToolTip="监视源" Margin="0" RenderTransformOrigin="0.503,0.55" Height="20" IsEnabled="False"/>
                        <Label x:Name="LabelDanmu" Grid.Column="1" Content="弹幕公屏" Padding="0" Margin="5,2,0,0"/>
                    </Grid>
                    <Slider x:Name="ProgressTran" Height="20" Foreground="#FF9D95F1" Maximum="1" Visibility="Collapsed" ToolTip="- 过渡 + 退回" Background="#7FE6E6E6" ValueChanged="ProgressTran_ValueChanged" AutoToolTipPlacement="BottomRight" AutoToolTipPrecision="1"/>
                    <Grid x:Name="GridTranEffect" Visibility="Collapsed" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Button x:Name="buttonSideBySide" Click="buttonSideBySide_Click" BorderThickness="1" ToolTip="全比例同屏(H)">
                            <Image Source="SideBySide.png" RenderTransformOrigin="0.5,0.5"  >
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="0.7" ScaleY="0.7"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>
                        <Button Grid.Column="1" x:Name="buttonLRSplit" Click="buttonLRSplit_Click" ToolTip="肖像型同屏(左右,J)">
                            <Image Source="LRSplit.png" RenderTransformOrigin="0.5,0.5">
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="0.7" ScaleY="0.7"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>

                            </Image>
                        </Button>
                        <Button Grid.Column="2" x:Name="buttonUDSplit" Click="buttonUDSplit_Click" ToolTip="肖像型同屏(上下,K)">
                            <Image Source="UDSplit.png" RenderTransformOrigin="0.5,0.5">
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="0.7" ScaleY="0.7"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>

                            </Image>
                        </Button>
                        <Button Grid.Column="3" x:Name="buttonaSWindow" Click="buttonaSWindow_Click" ToolTip="小窗模式(L)">
                            <Image Source="SWindow.png" RenderTransformOrigin="0.5,0.5"  >
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="0.7" ScaleY="0.7"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>
                    </Grid>
                    <Grid x:Name="DanmakuSider" Margin="0,15,0,0" Background="#FF75D2F6" Height="27">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="auto"/>
                            <ColumnDefinition />
                            <ColumnDefinition Width="auto"/>
                            <ColumnDefinition Width="auto"/>
                        </Grid.ColumnDefinitions>
                        <Button x:Name="buttonScreenSwitch" Grid.Column="0" Content="启动公屏" Width="70" Background="White" Foreground="#FF77D3F5" BorderBrush="#FF01BBE2" Click="buttonScreenSwitch_Click" />
                        <Button x:Name="buttonDanmakuSwitch" Grid.Column="1" Content="连接弹幕" Width="70" Background="White" Foreground="#FF77D3F5" BorderBrush="#FF01BBE2" Click="ButtonDanmakuSwitch_Click" />
                        <Button Grid.Column="2" x:Name="buttonAutoDanmaku" Content="自动弹幕" Background="#FF01BCE1" Foreground="White" BorderBrush="#FF01BCE1" Click="ButtonAutoDanmaku_Click" Width="70"/>
                        <Button x:Name="buttonGift" Grid.Column="3" Content="抽奖" Width="45" Background="White" Foreground="#FF77D3F5" BorderBrush="#FF01BBE2" ToolTip="激活后开始抽奖，再次按下结束抽奖。" Click="buttonGift_Click"/>
                        <Button x:Name="buttonDanmuSetting" Grid.Column="5" Background="#FF01BCE1" BorderBrush="#FF01BCE1" Click="ButtonDanmuSetting_Click" ToolTip="字幕机与设置">
                            <Image RenderTransformOrigin="0.5,0.5" Source="lines_Text_indent_16xLG.png">
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="0.7" ScaleY="0.7"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>
                    </Grid>

                    <ListBox x:Name="listBoxDanmaku" VerticalAlignment="Top" Margin="0" BorderBrush="#FF75D2F6" Foreground="#FF17546E" SelectionMode="Multiple" SelectionChanged="ListBoxDanmaku_SelectionChanged">
                        <ListBox.Background>
                            <LinearGradientBrush EndPoint="0.8,1.25" MappingMode="RelativeToBoundingBox" Opacity="0.25" StartPoint="0.9,0">
                                <GradientStop Color="#FF17C3E0" Offset="0"/>
                                <GradientStop Color="White" Offset="0.363"/>
                            </LinearGradientBrush>
                        </ListBox.Background>
                    </ListBox>
                    <Expander x:Name="expander1" Header="自定义播流代码"  VerticalAlignment="Top" Collapsed="Expander1_Collapsed" Expanded="Expander1_Expanded" Margin="0,10,0,0" IsEnabled="False" Visibility="Hidden">
                        <Grid Background="#FFE5E5E5">
                            <TextBox x:Name="textboxManStreaming" TextWrapping="Wrap"/>
                        </Grid>
                    </Expander>

                </StackPanel>

            </Grid>

        </Grid>



    </Grid>

</Window>
